{"mappings":"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","sources":["src/js/mostrar_libreria.js","src/js/paginacion_library.js","src/js/eliminar_pelicula.js"],"sourcesContent":["import { hacerPaginacion } from \"./paginacion_library\";\nimport { modales } from \"./modal_pelicula\";\nimport { llenarmodal } from \"./llenar_modal\";\n\nlet watched = [];\nlet pelisvistas = [];\nlet generos = [];\nlet queue = [];\nlet pelisparaver = [];\n\n// Espera a que la página se cargue completamente\nwindow.addEventListener(\"load\", function() {\n    // Oculta el spinner después de 4 segundos\n    setTimeout(function() {\n        document.getElementById(\"loader\").style.display = \"none\";\n    }, 3000); // 4000 ms = 4 segundos\n});\n\n// SE RECUPERAN LOS GENEROS\nif (localStorage.getItem('generos')) {\n    generos = JSON.parse(localStorage.getItem('generos'));\n} else {\n    console.log('El dato no existe en localStorage.');\n}\n\n// PARA PELICULAS VISTAS\nif (localStorage.getItem('watched')) {\n    watched = JSON.parse(localStorage.getItem('watched'));\n} else {\n    console.log('El dato no existe en localStorage.');\n}\n\nif (localStorage.getItem('peliculas')) {\n    let movies = JSON.parse(localStorage.getItem('peliculas'));\n    for (const id in watched) {\n        for (let i = 0; i < movies.length; i++) {\n            if (watched[id] == movies[i].id) {\n                pelisvistas.push(movies[i]);\n            }\n        }\n    }\n} else {\n    console.log('El dato no existe en localStorage.');\n}\n\n// PARA PELICULAS POR VER\nif (localStorage.getItem('queue')) {\n    queue = JSON.parse(localStorage.getItem('queue'));\n} else {\n    console.log('El dato no existe en localStorage.');\n}\n\nif (localStorage.getItem('peliculas')) {\n    let movies = JSON.parse(localStorage.getItem('peliculas'));\n    for (const id in queue) {\n        for (let i = 0; i < movies.length; i++) {\n            if (queue[id] == movies[i].id) {\n                pelisparaver.push(movies[i]);\n            }\n        }\n    }\n} else {\n    console.log('El dato no existe en localStorage.');\n}\n\nexport function displayMovies(movies) {\n    const galleryDiv = document.querySelector(\".gallery\");\n    galleryDiv.innerHTML = \"\"; // Limpiar el contenido existente\n    movies.forEach((movie) => {\n        const movieDiv = document.createElement(\"li\");\n        movieDiv.setAttribute(\"data-modal-open\", \"\");\n        movieDiv.classList.add(\"gallery__item\");\n        movieDiv.setAttribute(\"id\", `${movie.id}`);\n    \n        const image = document.createElement(\"img\");\n        image.src = `https://image.tmdb.org/t/p/w400${movie.poster_path}`;\n        image.alt = movie.title;\n\n        const paragraph = document.createElement(\"h3\");\n        paragraph.classList.add(\"movie-tittle\");\n        paragraph.textContent = `${movie.title}`;\n\n        const paragraph2 = document.createElement(\"p\");\n        paragraph2.classList.add(\"movie-gender\");\n\n        for (const id in generos) {\n            for (let i = 0; i < movie.genre_ids.length; i++) {\n                if (generos[id].id == movie.genre_ids[i]) {\n                    paragraph2.append(`${generos[id].name} `);\n                }\n            }\n        }\n\n        paragraph2.append(`| (${movie.release_date.substring(0, 4)})`);\n\n        movieDiv.appendChild(image);\n        movieDiv.appendChild(paragraph);\n        movieDiv.appendChild(paragraph2);\n        galleryDiv.appendChild(movieDiv);\n    });\n\n    modales();\n    llenarmodal(movies,generos);\n}\n\nhacerPaginacion(pelisvistas);\n\nconst btnwatched = document.getElementById(\"watched\");\nconst btnqueue = document.getElementById(\"queue\");\n\nbtnwatched.addEventListener(\"click\", async (event) => {\n    event.preventDefault(); // Evitar que se recargue la página\n    displayMovies(pelisvistas);\n    btnwatched.classList.toggle(\"button_selected\");\n    btnqueue.classList.toggle(\"button_selected\");\n});\n\nbtnqueue.addEventListener(\"click\", async (event) => {\n    event.preventDefault(); // Evitar que se recargue la página\n    displayMovies(pelisparaver);\n    btnwatched.classList.toggle(\"button_selected\");\n    btnqueue.classList.toggle(\"button_selected\");\n});\n\n","import { displayMovies } from \"./mostrar_libreria\";\n\nexport function hacerPaginacion(allMovies) { \n\n  const data = [...allMovies];// Tu conjunto de datos\n  let itemsPerPage = 20; // Número de elementos por página\n  let currentPage = 1; // Página actual\n\n  // Función para renderizar los datos de la página actual\n  function renderData() {\n    const startIndex = (currentPage - 1) * itemsPerPage;\n    const endIndex = startIndex + itemsPerPage;\n    const currentData = data.slice(startIndex, endIndex);\n\n    const dataContainer = document.getElementById('data-container');\n    dataContainer.innerHTML = ''; // Limpiar contenedor de datos\n\n    currentData.forEach(item => {\n    const div = document.createElement('div');\n    div.textContent = item;\n    }); \n    return currentData;\n  }\n\n  // Función para renderizar la paginación\n  function renderPagination() {\n    const totalPages = Math.ceil(data.length / itemsPerPage);\n    const paginationContainer = document.getElementById('pagination-container');\n    paginationContainer.innerHTML = ''; // Limpiar contenedor de paginación\n\n    // Agregar flecha para pagina anterior\n    const prevButton = document.createElement('button');\n    prevButton.textContent = '<';\n    prevButton.classList.add('pagination-button');\n    prevButton.addEventListener('click', () => {\n      if (currentPage > 1) {\n        currentPage--;\n        renderData();\n        renderPagination();\n      }\n    });\n    paginationContainer.appendChild(prevButton);\n\n    const firstButton = document.createElement('button');\n      firstButton.textContent = '1';\n      firstButton.classList.add('pagination-button');\n      firstButton.addEventListener('click', () => { \n      currentPage = 1;\n      renderData();\n      renderPagination();\n    });\n    paginationContainer.appendChild(firstButton);\n\n    if (currentPage > 3) {\n      const ellipsis1 = document.createElement('span');\n      ellipsis1.textContent = '...';\n      paginationContainer.appendChild(ellipsis1);\n    }\n    for (\n      let i = Math.max(2, currentPage - 1);\n      i <= Math.min(totalPages - 1, currentPage + 1);\n      i++\n    ) {\n    const button = document.createElement('button');\n    button.textContent = i;\n    button.classList.add('pagination-button');\n    if (i === currentPage) {\n      button.classList.add('current-page'); // Agregar clase CSS para la página actual\n    }\n    button.addEventListener('click', () => {\n      currentPage = i;\n      renderData();\n      renderPagination();\n    });\n      paginationContainer.appendChild(button);\n    }\n\n    \n\n    if (currentPage < totalPages - 2) {\n      const ellipsis2 = document.createElement('span');\n      ellipsis2.textContent = '...';\n      paginationContainer.appendChild(ellipsis2);\n    }\n\n    if (totalPages > 1) {\n      const lastButton = document.createElement('button');\n      lastButton.textContent = totalPages;\n      lastButton.classList.add('pagination-button');\n      lastButton.addEventListener('click', () => {\n        currentPage = totalPages;\n        renderData();\n        renderPagination();\n      });\n      paginationContainer.appendChild(lastButton);\n    }\n    // Agregar flecha para pagina siguiente\n    const nextButton = document.createElement('button');\n    nextButton.textContent = '>';\n    nextButton.classList.add('pagination-button');\n    nextButton.addEventListener('click', () => {\n      if (currentPage < totalPages) {\n        currentPage++;\n        renderData();\n        renderPagination();\n      }\n    });\n    paginationContainer.appendChild(nextButton);\n\n    displayMovies(renderData());\n\n  }\n\n  // Renderizar la primera página de datos y la paginación\n  renderData();\n  renderPagination();\n}","import Notiflix from 'notiflix';\n\n// Para seleccionar todos los botones con clase 'watched-button'\nconst watchedButtons = document.querySelectorAll('.watched-button');\n\n// Se le agrega a cada boton el event listener\nwatchedButtons.forEach(button => { \n  button.addEventListener('click', function () {\n    const movieId = document.querySelector(\".information__id\").innerText;\n    eliminarComoVista(movieId);\n  });\n});\n\n\n// Para seleccionar todos los botones con clase 'watched-button'\nconst addToQueueButtons = document.querySelectorAll('.addToQueue-button');\n\n// Se le agrega a cada boton el event listener\naddToQueueButtons.forEach(button => {\n  button.addEventListener('click', function () {\n    const movieId = document.querySelector(\".information__id\").innerText;\n    eliminarParaVer(movieId);\n    });\n});\n\nfunction eliminarComoVista(id) {\n  let watched = JSON.parse(localStorage.getItem('watched')) || [];\n  // Verificar si la película ya está marcada como favorita\n  if (watched.includes(id)) {\n    let num = watched.indexOf(id);\n    watched.splice(num, 1);\n    localStorage.setItem('watched', JSON.stringify(watched));\n    Notiflix.Notify.success(\"Pelicula eliminada en vistas.\");\n  }\n}\n\nfunction eliminarParaVer(id) {\n  let queue = JSON.parse(localStorage.getItem('queue')) || [];\n  // Verificar si la película ya está marcada como favorita\n  if (queue.includes(id)) {\n    let num = queue.indexOf(id);\n    queue.splice(num, 1);\n    localStorage.setItem('queue', JSON.stringify(queue));\n    Notiflix.Notify.success(\"Pelicula eliminada para ver mas tarde.\");\n  }\n}"],"names":["$bpxeT","parcelRequire","$8nrFW","$d6782e5b37ba4e61$var$watched","$d6782e5b37ba4e61$var$pelisvistas","$d6782e5b37ba4e61$var$generos","$d6782e5b37ba4e61$var$queue","$d6782e5b37ba4e61$var$pelisparaver","window","addEventListener","setTimeout","document","getElementById","style","display","localStorage","getItem","JSON","parse","console","log","$d6782e5b37ba4e61$var$movies","$d6782e5b37ba4e61$var$id","$d6782e5b37ba4e61$var$i","length","id","push","$d6782e5b37ba4e61$var$movies1","$d6782e5b37ba4e61$var$id1","$d6782e5b37ba4e61$var$i1","$d6782e5b37ba4e61$export$80c33a899040816b","movies","galleryDiv","querySelector","innerHTML","forEach","movie","movieDiv","createElement","setAttribute","classList","add","concat","image","src","poster_path","alt","title","paragraph","textContent","paragraph2","i","genre_ids","append","name","release_date","substring","appendChild","$aXKmY","modales","$6kCuO","llenarmodal","allMovies","data","$parcel$interopDefault","currentPage","renderData","startIndex","endIndex","currentData","slice","item","renderPagination","button","paginationContainer","totalPages","Math","ceil","prevButton","firstButton","ellipsis1","i1","max","min","_loop","ellipsis2","lastButton","nextButton","$d6782e5b37ba4e61$var$btnwatched","$d6782e5b37ba4e61$var$btnqueue","$2TvXO","mark","_callee","event","preventDefault","toggle","$ejkSG","querySelectorAll","watched","includes","num","indexOf","splice","setItem","stringify","Notify","success","$02e17fc2c5693b5a$var$eliminarComoVista","innerText","queue","$02e17fc2c5693b5a$var$eliminarParaVer"],"version":3,"file":"library.4496daa6.js.map"}