const e=document.querySelector(".searching-box"),o=document.querySelector('input[name="searchQuery"]'),t=document.querySelector(".up-btn"),l=document.querySelector("#search-form"),s=document.querySelector(".gallery"),r=e=>[...e.children].forEach((e=>e.remove())),n=document.querySelector(".load-more"),a=()=>new SimpleLightbox(".gallery a",{});let i=0,c=o.value;async function u(e,o){try{const t=await axios.get(`https://api.themoviedb.org/3/search/movie?api_key=31105a6b8ebd34e8f5577c23e6678fa8&query=${e}&page=${o}`);return console.log(t),t.data}catch(e){console.log(e)}}function y(e){const o=e.map((e=>`<div class="movie-card">\n        <a class="gallery__item" href="#"><img class="gallery__image" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}" loading="lazy" /></a>\n        <div class="info">\n          <p class="info-item"><b>Title:</b> ${e.title}</p>\n          <p class="info-item"><b>Release Date:</b> ${e.release_date}</p>\n          <p class="info-item"><b>Overview:</b> ${e.overview}</p>\n          <p class="info-item"><b>Popularity:</b> ${e.popularity}</p>\n        </div>\n      </div>`)).join("");s.insertAdjacentHTML("beforeend",o)}n.style.display="none",t.style.display="none",l.addEventListener("submit",(async function(l){l.preventDefault(),r(s),n.style.display="none",i=1,c=o.value,console.log(c),u(c,i).then((o=>{console.log(`Number of results: ${o.results.length}`),console.log(`Total results: ${o.total_results}`);let l=Math.ceil(o.total_results/40);console.log(`Total pages: ${l}`),o.results.length>0?(Notiflix.Notify.success(`Hooray! We found ${o.total_results} movies.`),y(o.results),console.log(`Current page: ${i}`),a(),t.style.display="block",t.addEventListener("click",(()=>{e.scrollIntoView({behavior:"smooth"})})),i<l?n.style.display="block":(n.style.display="none",console.log("There are no more movies"),Notiflix.Notify.info("We're sorry, but you've reached the end of search results."))):(Notiflix.Notify.failure("Sorry, there are no movies matching your search query. Please try again."),r(s))})).catch((e=>console.log(e)))})),n.addEventListener("click",(()=>{c=o.value,console.log("load more movies"),i+=1,u(c,i).then((e=>{let o=Math.ceil(e.total_results/40);y(e.results);const{height:t}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:2*t,behavior:"smooth"}),a().refresh(),console.log(`Current page: ${i}`),i>=o&&(n.style.display="none",console.log("There are no more movies"),Notiflix.Notify.info("We're sorry, but you've reached the end of search results."))}))}),!0);
//# sourceMappingURL=index.a1289844.js.map
