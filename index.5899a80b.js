const e=document.querySelector(".searching-box"),o=document.querySelector('input[name="searchQuery"]'),t=document.querySelector(".up-btn"),l=document.querySelector("#search-form"),n=document.querySelector(".gallery"),s=e=>[...e.children].forEach((e=>e.remove())),a=document.querySelector(".load-more"),r=()=>new SimpleLightbox(".gallery a",{});let i=0,c=o.value;async function y(e,o){try{const t=await axios.get(`https://pixabay.com/api/?key=23580980-4f75151f85975025bb6074227&q=${e}&image_type=photo&orientation=horizontal&safesearch=true&page=${o}&per_page=40`);return console.log(t),t.data}catch(e){console.log(e)}}function g(e){const o=e.hits.map((e=>`<div class="photo-card">\n      <a class="gallery__item" href="${e.largeImageURL}"> <img class="gallery__image" src="${e.webformatURL}" alt="${e.tags}" loading="lazy" /></a>\n      <div class="info">\n        <p class="info-item">\n          <p><b>Likes</b> <br>${e.likes}</br></p>\n        </p>\n        <p class="info-item">\n          <p><b>Views</b> <br>${e.views}</br></p>\n        </p>\n        <p class="info-item">\n          <p><b>Comments</b> <br>${e.comments}</br></p>\n        </p>\n        <p class="info-item">\n          <p><b>Downloads</b> <br>${e.downloads}</br></p>\n        </p>\n      </div>\n    </div>`)).join("");n.insertAdjacentHTML("beforeend",o)}a.style.display="none",t.style.display="none",l.addEventListener("submit",(async function(l){l.preventDefault(),s(n),a.style.display="none",i=1,c=o.value,console.log(c),y(c,i).then((o=>{console.log(`Number of arrays: ${o.hits.length}`),console.log(`Total hits: ${o.totalHits}`);let l=Math.ceil(o.totalHits/40);console.log(`Total pages: ${l}`),o.hits.length>0?(Notiflix.Notify.success(`Hooray! We found ${o.totalHits} images.`),g(o),console.log(`Current page: ${i}`),r(),t.style.display="block",t.addEventListener("click",(()=>{e.scrollIntoView({behavior:"smooth"})})),i<l?a.style.display="block":(a.style.display="none",console.log("There are no more images"),Notiflix.Notify.info("We're sorry, but you've reached the end of search results."))):(Notiflix.Notify.failure("Sorry, there are no images matching your search query. Please try again."),s(n))})).catch((e=>console.log(e)))})),a.addEventListener("click",(()=>{c=o.value,console.log("load more images"),i+=1,y(c,i).then((e=>{let o=Math.ceil(e.totalHits/40);g(e);const{height:t}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:2*t,behavior:"smooth"}),r().refresh(),console.log(`Current page: ${i}`),i>=o&&(a.style.display="none",console.log("There are no more images"),Notiflix.Notify.info("We're sorry, but you've reached the end of search results."))}))}),!0);
//# sourceMappingURL=index.5899a80b.js.map
